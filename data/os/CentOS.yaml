---
# - GPG key resource and resource-----------------------------------------------
influxdb::key_resource: 'yum::gpgkey'
influxdb::resource: 'yum::repos'

# - YUM gpg key ----------------------------------------------------------------
influxdb::gpg_keys:
  "%{lookup('influxdb::software')}":
    ensure: "%{lookup('influxdb::gpg_manage')}"
    source: "%{lookup('influxdb::gpg_source')}"

# - YUM repository settings ----------------------------------------------------
yum::managed_repos:
  - 'influxdb'

influxdb::repositories:
  "%{lookup('influxdb::software')}":
    ensure: "%{lookup('influxdb::repos_manage')}"
    enabled: "%{lookup('influxdb::repos_enable')}"
    descr: "%{lookup('influxdb::repos_comment')}"
    baseurl: "%{lookup('influxdb::repos_location')}"
    gpgcheck: "%{lookup('influxdb::repos_gpgcheck')}"
    gpgkey: "%{lookup('influxdb::gpg_content')}"
