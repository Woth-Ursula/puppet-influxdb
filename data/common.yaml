---
# - APT key settings -----------------------------------------------------------
apt_keys:
  'influxdb':
    ensure: present
    id: '05CE15085FC09D18E99EFB22684A14CF2582E0C5'
    server: 'eu.pool.sks-keyservers.net'
    source: 'https://repos.influxdata.com/influxdb.key'

# - APT repository settings ----------------------------------------------------
apt_repos:
  'influxdb':
    ensure: present
    comment: 'InfluxData repository'
    location: 'https://repos.influxdata.com/ubuntu'
    release: '%{::os.distro.codename}'
    repos: 'stable'
    include:
      src: false
      deb: true

# - Influxdb settings-----------------------------------------------------------
settings:
  'installation':
    configuration_path: '/etc/influxdb'
    configuration_file: influxdb.conf'
    service_defaults: '/etc/default/influxdb'
    service_definition: '/lib/systemd/system/influxdb.service'
    metadata_raft: '/var/lib/influxdb/meta'
    tsm_data: '/var/lib/influxdb/data'
    tsm_wal: '/var/lib/influxdb/wal'
    user: 'influxdb'
    group: 'influxdb'
    package: 'influxdb'
    service_name: 'influxdb'
    service_provider: 'systemd'
    service_ensure: 'running'
